/**
 * NIP-57: Lightning Zaps
 *
 * Implementation of the NIP-57 specification for Lightning Zaps.
 * This allows for recording lightning payments between users with two event types:
 * - Kind 9734: Zap Request
 * - Kind 9735: Zap Receipt
 *
 * @see https://github.com/nostr-protocol/nips/blob/master/57.md
 */
import { NostrEvent, EventTemplate } from "../types/nostr";
export type { LnurlSuccessAction, LnurlInvoiceResponse } from "./types";
export { NostrZapClient, ZapClientOptions, ZapInvoiceResult, ZapFilterOptions, ZapStats, } from "./client";
export declare const ZAP_REQUEST_KIND = 9734;
export declare const ZAP_RECEIPT_KIND = 9735;
/**
 * LNURL Pay Response structure
 */
export interface LnurlPayResponse {
    callback: string;
    maxSendable: number;
    minSendable: number;
    metadata: string;
    commentAllowed?: number;
    tag: string;
    allowsNostr?: boolean;
    nostrPubkey?: string;
}
/**
 * Options for creating a zap request
 */
export interface ZapRequestOptions {
    recipientPubkey: string;
    eventId?: string;
    amount?: number;
    relays: string[];
    content?: string;
    lnurl?: string;
    aTag?: string;
    senderPubkey?: string;
}
/**
 * Options for creating a zap receipt
 */
export interface ZapReceiptOptions {
    recipientPubkey: string;
    eventId?: string;
    bolt11: string;
    preimage?: string;
    zapRequest: NostrEvent;
    senderPubkey?: string;
    aTag?: string;
}
/**
 * Zap validation result
 */
export interface ZapValidationResult {
    valid: boolean;
    message?: string;
    amount?: number;
    sender?: string;
    recipient?: string;
    eventId?: string;
    content?: string;
}
/**
 * Create a zap request event (kind 9734)
 * @param options ZapRequestOptions
 * @param signerPubkey Public key of the signer
 * @returns Unsigned event template
 */
export declare function createZapRequest(options: ZapRequestOptions, signerPubkey: string): EventTemplate;
/**
 * Create a zap receipt event (kind 9735)
 * @param options ZapReceiptOptions
 * @param signerPubkey Public key of the LNURL server
 * @returns Unsigned event template
 */
export declare function createZapReceipt(options: ZapReceiptOptions, signerPubkey: string): EventTemplate;
/**
 * Validate a zap receipt event
 * @param zapReceipt The zap receipt event
 * @param lnurlPubkey The pubkey of the LNURL server
 * @returns Validation result
 */
export declare function validateZapReceipt(zapReceipt: NostrEvent, lnurlPubkey: string): ZapValidationResult;
/**
 * Parse zap split information from an event's tags
 * @param event Event to parse zap split from
 * @returns Array of zap split receivers with weights
 */
export declare function parseZapSplit(event: NostrEvent): {
    pubkey: string;
    relay: string;
    weight: number;
}[];
/**
 * Calculate zap split amounts
 * @param totalAmount Total amount in millisats
 * @param splitInfo Array of zap split receivers with weights
 * @returns Array of receivers with calculated amounts
 */
export declare function calculateZapSplitAmounts(totalAmount: number, splitInfo: {
    pubkey: string;
    relay: string;
    weight: number;
}[]): {
    pubkey: string;
    relay: string;
    amount: number;
}[];
/**
 * Raw LNURL response data before validation
 */
interface LnurlPayResponseRaw {
    callback?: string;
    maxSendable?: number;
    minSendable?: number;
    metadata?: string;
    commentAllowed?: number;
    tag?: string;
    allowsNostr?: boolean;
    nostrPubkey?: string;
    [key: string]: unknown;
}
/**
 * Parse LNURL payload response
 * @param data LNURL response data
 * @returns Parsed LNURL pay response or null if invalid
 */
export declare function parseLnurlPayResponse(data: LnurlPayResponseRaw): LnurlPayResponse | null;
