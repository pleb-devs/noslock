export declare enum NIP47EventKind {
    INFO = 13194,
    REQUEST = 23194,
    RESPONSE = 23195,
    NOTIFICATION = 23196,// NIP-04 encrypted notifications
    NOTIFICATION_NIP44 = 23197
}
export declare enum NIP47EncryptionScheme {
    NIP04 = "nip04",
    NIP44_V2 = "nip44_v2"
}
export declare enum NIP47Method {
    GET_INFO = "get_info",
    GET_BALANCE = "get_balance",
    PAY_INVOICE = "pay_invoice",
    MAKE_INVOICE = "make_invoice",
    LOOKUP_INVOICE = "lookup_invoice",
    LIST_TRANSACTIONS = "list_transactions",
    SIGN_MESSAGE = "sign_message",
    PAY_KEYSEND = "pay_keysend",
    MULTI_PAY_INVOICE = "multi_pay_invoice",
    MULTI_PAY_KEYSEND = "multi_pay_keysend",
    UNKNOWN = "unknown"
}
export declare enum NIP47NotificationType {
    PAYMENT_RECEIVED = "payment_received",
    PAYMENT_SENT = "payment_sent"
}
export declare enum NIP47ErrorCategory {
    AUTHORIZATION = "AUTHORIZATION",// Permission/authentication errors
    VALIDATION = "VALIDATION",// Input validation errors
    RESOURCE = "RESOURCE",// Resource availability errors
    NETWORK = "NETWORK",// Network/communication errors
    WALLET = "WALLET",// Wallet-specific errors
    TIMEOUT = "TIMEOUT",// Timeout-related errors
    INTERNAL = "INTERNAL"
}
export declare enum NIP47ErrorCode {
    UNAUTHORIZED = "UNAUTHORIZED",
    INVALID_REQUEST = "INVALID_REQUEST",
    INSUFFICIENT_BALANCE = "INSUFFICIENT_BALANCE",
    PAYMENT_FAILED = "PAYMENT_FAILED",
    INVOICE_EXPIRED = "INVOICE_EXPIRED",
    NOT_FOUND = "NOT_FOUND",
    INTERNAL_ERROR = "INTERNAL_ERROR",
    UNSUPPORTED_ENCRYPTION = "UNSUPPORTED_ENCRYPTION",
    REQUEST_EXPIRED = "REQUEST_EXPIRED",
    TIMEOUT = "TIMEOUT",
    CONNECTION_ERROR = "CONNECTION_ERROR",
    RELAY_ERROR = "RELAY_ERROR",
    PUBLISH_FAILED = "PUBLISH_FAILED",
    ENCRYPTION_ERROR = "ENCRYPTION_ERROR",
    DECRYPTION_ERROR = "DECRYPTION_ERROR",
    UNAUTHORIZED_CLIENT = "UNAUTHORIZED_CLIENT",
    INVALID_INVOICE_FORMAT = "INVALID_INVOICE_FORMAT",
    INVALID_AMOUNT = "INVALID_AMOUNT",
    INVALID_PARAMETER = "INVALID_PARAMETER",
    PAYMENT_ROUTE_NOT_FOUND = "PAYMENT_ROUTE_NOT_FOUND",
    PAYMENT_REJECTED = "PAYMENT_REJECTED",
    WALLET_LOCKED = "WALLET_LOCKED",
    WALLET_UNAVAILABLE = "WALLET_UNAVAILABLE",
    LOOKUP_INVOICE_FAILED = "LOOKUP_INVOICE_FAILED",
    NOT_INITIALIZED = "NOT_INITIALIZED"
}
export declare const ERROR_CATEGORIES: Record<string, NIP47ErrorCategory>;
export declare const ERROR_RECOVERY_HINTS: Record<string, string>;
export declare enum TransactionType {
    INCOMING = "incoming",
    OUTGOING = "outgoing"
}
export interface NIP47ConnectionOptions {
    /**
     * Public key of the wallet service
     */
    pubkey: string;
    /**
     * Secret value for authentication (typically a private key)
     */
    secret: string;
    /**
     * List of relay URLs
     */
    relays: string[];
    /**
     * Preferred encryption scheme (optional, defaults to NIP-44 if supported)
     */
    preferredEncryption?: NIP47EncryptionScheme;
}
export interface NIP47Request {
    method: NIP47Method;
    params: NIP47RequestParams;
}
export type NIP47RequestParams = GetInfoParams | GetBalanceParams | PayInvoiceParams | MakeInvoiceParams | LookupInvoiceParams | ListTransactionsParams | SignMessageParams | PayKeysendParams | MultiPayInvoiceParams | MultiPayKeysendParams;
export type GetInfoParams = Record<string, never>;
export type GetBalanceParams = Record<string, never>;
export interface PayInvoiceParams {
    invoice: string;
    amount?: number;
    maxfee?: number;
}
export interface MakeInvoiceParams {
    amount: number;
    description: string;
    description_hash?: string;
    expiry?: number;
}
export interface LookupInvoiceParams {
    payment_hash?: string;
    invoice?: string;
}
export interface ListTransactionsParams {
    from?: number;
    until?: number;
    limit?: number;
    offset?: number;
    unpaid?: boolean;
    type?: string;
}
export interface SignMessageParams {
    message: string;
}
export interface PayKeysendParams {
    pubkey: string;
    amount: number;
    maxfee?: number;
    customRecords?: Record<string, string>;
}
export interface MultiPayInvoiceParams {
    invoices: Array<{
        invoice: string;
        amount?: number;
        maxfee?: number;
    }>;
    maxTotalFee?: number;
}
export interface MultiPayKeysendParams {
    payments: Array<{
        pubkey: string;
        amount: number;
        maxfee?: number;
        customRecords?: Record<string, string>;
    }>;
    maxTotalFee?: number;
}
export interface NIP47Error {
    code: NIP47ErrorCode;
    message: string;
    category?: NIP47ErrorCategory;
    recoveryHint?: string;
    data?: Record<string, unknown>;
}
export interface NIP47Response {
    result_type: NIP47Method;
    result: NIP47ResponseResult | null;
    error: NIP47Error | null;
}
export interface NIP47Notification<T = Record<string, unknown>> {
    notification_type: NIP47NotificationType;
    notification: T;
}
export interface NIP47Transaction {
    type: TransactionType;
    invoice?: string;
    description?: string;
    description_hash?: string;
    preimage?: string;
    payment_hash: string;
    amount: number;
    fees_paid: number;
    created_at: number;
    expires_at?: number;
    settled_at?: number;
    metadata?: Record<string, unknown>;
}
export type NIP47ResponseResult = GetInfoResponseResult | number | PaymentResponseResult | MakeInvoiceResponseResult | NIP47Transaction | ListTransactionsResponseResult | SignMessageResponseResult | PaymentResponseResult | MultiPaymentResponseResult;
export interface GetInfoResponseResult {
    alias?: string;
    color?: string;
    pubkey?: string;
    network?: string;
    block_height?: number;
    block_hash?: string;
    methods: string[];
    notifications?: string[];
    encryption?: string[];
}
export interface PaymentResponseResult {
    preimage: string;
    payment_hash: string;
    amount: number;
    fees_paid: number;
}
export interface MakeInvoiceResponseResult {
    invoice: string;
    payment_hash: string;
    amount: number;
    created_at: number;
    expires_at?: number;
    description_hash?: string;
}
export interface ListTransactionsResponseResult {
    transactions: NIP47Transaction[];
}
export interface SignMessageResponseResult {
    message: string;
    signature: string;
}
export interface MultiPaymentResponseResult {
    payments: Array<{
        preimage: string;
        payment_hash: string;
        amount: number;
        fees_paid: number;
    }>;
    total_amount: number;
    total_fees_paid: number;
}
export interface GetInfoResponse extends NIP47Response {
    result_type: NIP47Method.GET_INFO;
    result: GetInfoResponseResult | null;
    error: NIP47Error | null;
}
export interface GetBalanceResponse extends NIP47Response {
    result_type: NIP47Method.GET_BALANCE;
    result: number | null;
    error: NIP47Error | null;
}
export interface PayInvoiceResponse extends NIP47Response {
    result_type: NIP47Method.PAY_INVOICE;
    result: PaymentResponseResult | null;
    error: NIP47Error | null;
}
export interface MakeInvoiceResponse extends NIP47Response {
    result_type: NIP47Method.MAKE_INVOICE;
    result: MakeInvoiceResponseResult | null;
    error: NIP47Error | null;
}
export interface LookupInvoiceResponse extends NIP47Response {
    result_type: NIP47Method.LOOKUP_INVOICE;
    result: NIP47Transaction | null;
    error: NIP47Error | null;
}
export interface ListTransactionsResponse extends NIP47Response {
    result_type: NIP47Method.LIST_TRANSACTIONS;
    result: ListTransactionsResponseResult | null;
    error: NIP47Error | null;
}
export interface SignMessageResponse extends NIP47Response {
    result_type: NIP47Method.SIGN_MESSAGE;
    result: SignMessageResponseResult | null;
    error: NIP47Error | null;
}
export interface PayKeysendRequest extends NIP47Request {
    method: NIP47Method.PAY_KEYSEND;
    params: PayKeysendParams;
}
export interface MultiPayInvoiceRequest extends NIP47Request {
    method: NIP47Method.MULTI_PAY_INVOICE;
    params: MultiPayInvoiceParams;
}
export interface MultiPayKeysendRequest extends NIP47Request {
    method: NIP47Method.MULTI_PAY_KEYSEND;
    params: MultiPayKeysendParams;
}
export interface PaymentReceivedNotification extends NIP47Notification<NIP47Transaction> {
    notification_type: NIP47NotificationType.PAYMENT_RECEIVED;
}
export interface PaymentSentNotification extends NIP47Notification<NIP47Transaction> {
    notification_type: NIP47NotificationType.PAYMENT_SENT;
}
export interface WalletImplementation {
    getInfo(): Promise<GetInfoResponseResult>;
    getBalance(): Promise<number>;
    payInvoice(invoice: string, amount?: number, maxfee?: number): Promise<PaymentResponseResult>;
    makeInvoice(amount: number, description: string, description_hash?: string, expiry?: number): Promise<MakeInvoiceResponseResult>;
    lookupInvoice(params: {
        payment_hash?: string;
        invoice?: string;
    }): Promise<NIP47Transaction>;
    listTransactions(from?: number, until?: number, limit?: number, offset?: number, unpaid?: boolean, type?: string): Promise<NIP47Transaction[]>;
    signMessage?(message: string): Promise<SignMessageResponseResult>;
}
export interface PayKeysendResponse extends NIP47Response {
    result_type: NIP47Method.PAY_KEYSEND;
    result: PaymentResponseResult | null;
    error: NIP47Error | null;
}
export interface MultiPayInvoiceResponse extends NIP47Response {
    result_type: NIP47Method.MULTI_PAY_INVOICE;
    result: MultiPaymentResponseResult | null;
    error: NIP47Error | null;
}
export interface MultiPayKeysendResponse extends NIP47Response {
    result_type: NIP47Method.MULTI_PAY_KEYSEND;
    result: MultiPaymentResponseResult | null;
    error: NIP47Error | null;
}
export interface GetInfoRequest extends NIP47Request {
    method: NIP47Method.GET_INFO;
    params: GetInfoParams;
}
export interface GetBalanceRequest extends NIP47Request {
    method: NIP47Method.GET_BALANCE;
    params: GetBalanceParams;
}
export interface PayInvoiceRequest extends NIP47Request {
    method: NIP47Method.PAY_INVOICE;
    params: PayInvoiceParams;
}
export interface MakeInvoiceRequest extends NIP47Request {
    method: NIP47Method.MAKE_INVOICE;
    params: MakeInvoiceParams;
}
export interface LookupInvoiceRequest extends NIP47Request {
    method: NIP47Method.LOOKUP_INVOICE;
    params: LookupInvoiceParams;
}
export interface ListTransactionsRequest extends NIP47Request {
    method: NIP47Method.LIST_TRANSACTIONS;
    params: ListTransactionsParams;
}
export interface SignMessageRequest extends NIP47Request {
    method: NIP47Method.SIGN_MESSAGE;
    params: SignMessageParams;
}
