import { EventTemplate, NostrEvent, ProfileMetadata, ValidationOptions, TaggedEvent, TagValues, EventTags, Filter } from "../types/nostr";
export type UnsignedEvent = Omit<NostrEvent, "id" | "sig">;
/**
 * Custom error class for Nostr event validation errors
 */
export declare class NostrValidationError extends Error {
    /** The field that failed validation */
    readonly field?: string;
    /** The data that failed validation (can be an event, filter, etc.) */
    readonly invalidData?: Partial<NostrEvent> | Filter | Record<string, unknown> | EventTemplate;
    constructor(message: string, field?: string, invalidData?: Partial<NostrEvent> | Filter | Record<string, unknown> | EventTemplate);
}
/**
 * Calculate the event hash following NIP-01 specification exactly
 * for deterministic serialization across different implementations
 * @throws {NostrValidationError} If the event is missing required fields or has invalid data
 */
export declare function getEventHash(event: UnsignedEvent | NostrEvent): Promise<string>;
/**
 * Create an unsigned event from a template
 */
export declare function createEvent(template: EventTemplate, pubkey: string): UnsignedEvent;
/**
 * Create and sign an event
 * @throws {NostrValidationError} If the event validation fails
 */
export declare function createSignedEvent(event: UnsignedEvent, privateKey: string): Promise<NostrEvent>;
/**
 * Create a text note event (kind 1)
 *
 * @param content The content of the text note
 * @param privateKey The private key to derive the pubkey from
 * @param tags Optional tags for the event
 * @returns An unsigned event with pubkey automatically set
 * @throws {NostrValidationError} If validation fails
 */
export declare function createTextNote(content: string, privateKey: string, tags?: string[][]): UnsignedEvent;
/**
 * Create a direct message event (kind 4)
 * Encrypts the content using NIP-04 specification
 *
 * @param content The plaintext content to encrypt
 * @param recipientPubkey The public key of the recipient
 * @param privateKey The private key of the sender
 * @param tags Optional additional tags
 * @returns An unsigned event with pubkey automatically set and content encrypted
 * @throws {NostrValidationError} If validation fails
 */
export declare function createDirectMessage(content: string, recipientPubkey: string, privateKey: string, tags?: string[][]): Promise<UnsignedEvent>;
/**
 * Create a metadata event (kind 0)
 * @param metadata Object containing user profile metadata
 * @param privateKey The private key to derive the pubkey from
 * @returns An unsigned event with pubkey automatically set
 * @throws {NostrValidationError} If validation fails
 */
export declare function createMetadataEvent(metadata: ProfileMetadata, privateKey: string): UnsignedEvent;
/**
 * Create an addressable event (kinds 30000-39999)
 * These are events that can be replaced based on kind, pubkey, and d-tag value
 *
 * @param kind The kind of the event (must be between 30000-39999)
 * @param dTagValue The value for the d tag that identifies this addressable event
 * @param content The content of the event
 * @param privateKey The private key to derive the pubkey from
 * @param additionalTags Optional additional tags for the event
 * @returns An unsigned event with pubkey automatically set
 * @throws {NostrValidationError} If the kind is not in the addressable range or other validation fails
 */
export declare function createAddressableEvent(kind: number, dTagValue: string, content: string, privateKey: string, additionalTags?: string[][]): UnsignedEvent;
/**
 * Validate a Nostr event according to NIP-01 and optional custom rules
 *
 * @param event The event to validate
 * @param options Validation options
 * @returns True if the event is valid
 * @throws {NostrValidationError} If validation fails
 */
export declare function validateEvent(event: NostrEvent, options?: ValidationOptions): Promise<boolean>;
/**
 * Extract all tags of a specific type from an event
 *
 * @param event The Nostr event to extract tags from
 * @param tagName The tag name to extract (e.g., 'e', 'p', etc.)
 * @returns Array of tag values (without the tag name)
 */
export declare function getTagValues<T extends keyof TagValues>(event: NostrEvent, tagName: T): string[];
/**
 * Get a specific tag value from an event (first occurrence)
 *
 * @param event The Nostr event to extract tag from
 * @param tagName The tag name to extract (e.g., 'e', 'p', etc.)
 * @param index The index of the tag value (default: 0, which is the first element after the tag name)
 * @returns The tag value or undefined if not found
 */
export declare function getTagValue<T extends keyof TagValues>(event: NostrEvent, tagName: T, index?: number): string | undefined;
/**
 * Extract all tags from an event, organized by tag name
 *
 * @param event The Nostr event to extract tags from
 * @returns Object with tag names as keys and arrays of values as values
 */
export declare function extractTags(event: NostrEvent): EventTags;
/**
 * Create a tagged event with helper methods for tag extraction
 *
 * @param event The Nostr event to wrap
 * @returns Enhanced event with tag extraction methods
 */
export declare function createTaggedEvent<T extends string>(event: NostrEvent): TaggedEvent<T>;
